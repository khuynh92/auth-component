<!DOCTYPE html>
<html>

<head>
  <title>Auth Test</title>
</head>

<body>
  <main>
    <div id="oauth"></div>

    <h2>CREATE ACCOUNT</h2>
    <!-- <form action="http://localhost:3000/signup" method="POST"> -->
      <form action="https://khoa-18-oauth.herokuapp.com/signup" method="POST">
      <label>
        Username:
        <input name="username">
      </label> 
      <br />  
      <label>
        Password:
        <input name="password" type="password" />
      </label>
      <br />  
      <label>
        Email:
        <input name="email">
      </label>

      <input type="submit" value="Create User" />
    </form>
  </main>
  <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>
  <script>
    let linkedInURL = "https://www.linkedin.com/oauth/v2/authorization"
    let options = {
      client_id: '86v36mks0tlhmk',
      // redirect_uri: 'http://localhost:3000/oauth',
      redirect_uri: 'https://khoa-18-oauth.herokuapp.com/oauth',
      scope: 'r_basicprofile r_emailaddress',
      response_type: 'code',
      state: 'LKKdlahjk123jhka23hk1dh12',
    }

    let queryString = Object.keys(options).map(key => {
      return `${key}=` + encodeURIComponent(options[key])
    }).join('&');

    let authURL = `${linkedInURL}?${queryString}`

    $('#oauth').append(`<a href="${authURL}">Login With LinkedIn</a>`)
  </script>
</body>

</html>